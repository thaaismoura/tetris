:root{--bg:#0b0f14;--panel:#111826;--card:#0f172a;--accent:#6ee7b7;--accent-2:#60a5fa;--text:#e5e7eb;--muted:#94a3b8;--round:18px}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:radial-gradient(900px 480px at 10% -10%,rgba(96,165,250,.2),transparent),radial-gradient(600px 320px at 110% 20%,rgba(110,231,183,.2),transparent),var(--bg);color:var(--text);font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.app{display:flex;flex-direction:column;min-height:100vh}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px clamp(10px,4vw,20px)}
.brand{margin:0;font-weight:800;letter-spacing:.5px}
.brand span{color:var(--accent)}
.pill{background:transparent;border:1px solid var(--accent);color:var(--text);padding:6px 10px;border-radius:999px;cursor:pointer}
.pill[aria-pressed="true"]{background:var(--accent);color:#0b0f14}
.audio-controls{display:flex;gap:8px}

/* Layout mais compacto */
.layout{display:grid;gap:12px;grid-template-columns:220px 1fr;padding:0 clamp(10px,4vw,20px) 10px;align-items:start}
@media (max-width:980px){.layout{grid-template-columns:1fr}}

.sidebar{position:sticky;top:8px;display:flex;flex-direction:column;gap:10px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);padding:8px;border-radius:var(--round);box-shadow:0 6px 22px rgba(0,0,0,.22)}
.card h2{margin:0 0 4px 0;font-size:.85rem;color:var(--accent-2)}
.status-card{padding:6px 8px}
.stats{list-style:none;padding:0;margin:0;font-size:.9rem}
.stats li{display:flex;justify-content:space-between;padding:3px 0;border-bottom:1px dashed rgba(255,255,255,.08)}
.stats li:last-child{border-bottom:none}

/* Próxima peça mínima */
.mini-next{padding:6px 8px}
.mini-next h2{font-size:.8rem;margin-bottom:2px}
#nextCanvas{width:44px;height:44px;display:block}

/* Área de jogo menor e fixa, sempre centralizada */
.stage-wrap{position:relative;margin:0 auto;width:clamp(250px,65vw,315px)}
.stage-shadow{position:absolute;inset:-10px;filter:blur(18px);border-radius:calc(var(--round) + 6px);background:radial-gradient(180px 90px at 20% 0%,rgba(96,165,250,.2),transparent),radial-gradient(200px 110px at 80% 20%,rgba(110,231,183,.2),transparent)}
#game{display:block;width:100%;aspect-ratio:1/2;height:auto;background:linear-gradient(180deg,rgba(96,165,250,.10),rgba(110,231,183,.08)),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(0deg,rgba(255,255,255,.05) 1px,transparent 1px),var(--panel);background-size:cover,30px 30px,30px 30px,auto;border-radius:var(--round);border:1px solid rgba(255,255,255,.12);box-shadow:inset 0 0 0 2px rgba(255,255,255,.04),0 10px 30px rgba(0,0,0,.4)}
.overlay{position:absolute;inset:0;display:grid;place-items:center;border-radius:var(--round)}
/* Apenas botão central na tela inicial */
.overlay .only-button{background:transparent;border:none;padding:0}
.primary{background:var(--accent);border:none;color:#0b0f14;padding:12px 18px;border-radius:12px;font-weight:800;cursor:pointer}

/* Controles (mantidos) */
.controls{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:12px;padding:12px clamp(12px,4vw,24px) 18px}
.ctrl{background:linear-gradient(180deg,#1f2937,#0b1220);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:14px;min-height:56px;font-size:1.1rem;color:var(--text);font-weight:700;box-shadow:0 6px 14px rgba(0,0,0,.3);touch-action:manipulation}
.ctrl small{display:block;font-size:.75rem;color:var(--muted)}
@media (max-width:900px){.controls{grid-template-columns:repeat(4,minmax(0,1fr));position:sticky;bottom:0;background:linear-gradient(180deg,rgba(11,15,20,0),rgba(11,15,20,.95));backdrop-filter:blur(6px);padding-bottom:20px}}

.footer{margin-top:auto;text-align:center;color:var(--muted);padding:10px}
